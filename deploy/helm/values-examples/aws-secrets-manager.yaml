---
# AWS Secrets Manager Example
# Usage: helm install savvy ./helm/savvy -f values-examples/aws-secrets-manager.yaml

externalSecrets:
  enabled: true
  refreshInterval: 1h
  secretStoreRef:
    name: aws-secrets-manager
    kind: SecretStore

  secrets:
    # Session Secret
    - target:
        key: SESSION_SECRET
      remoteRef:
        key: "arn:aws:secretsmanager:us-east-1:123456789012:secret:savvy/session-abc123"
        # AWS Secrets Manager uses ARN as key, property is optional for JSON secrets

    # Database Password
    - target:
        key: password
      remoteRef:
        key: "arn:aws:secretsmanager:us-east-1:123456789012:secret:savvy/database-def456"
        property: "password"  # If secret is JSON: {"password": "value"}

    # OAuth Client Secret (optional)
    - target:
        key: CLIENT_SECRET
      remoteRef:
        key: "arn:aws:secretsmanager:us-east-1:123456789012:secret:savvy/oauth-ghi789"
        property: "client_secret"
