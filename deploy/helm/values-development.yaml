# Development values for savvy
# Usage: helm install savvy-dev ./helm/savvy -f helm/savvy/values-development.yaml

replicaCount: 1

image:
  repository: ghcr.io/sbaerlocher/savvy
  pullPolicy: Always  # Always pull latest for dev
  tag: "dev"

resources:
  limits:
    cpu: "1"
    memory: 512Mi
  requests:
    cpu: 100m
    memory: 128Mi

config:
  goEnv: development
  enableCards: true
  enableVouchers: true
  enableGiftCards: true
  enableLocalLogin: true  # Allow local login in dev
  enableRegistration: true  # Allow registration in dev
  otelEnabled: false

database:
  # Use internal PostgreSQL for development
  external:
    enabled: false
  postgresql:
    enabled: true
    auth:
      username: savvy
      password: devpassword  # NOT FOR PRODUCTION!
      database: savvy_dev
    primary:
      persistence:
        enabled: false  # No persistence needed for dev

externalSecrets:
  enabled: false  # Use plain secrets in dev

ingress:
  enabled: true
  className: "nginx"
  annotations:
    cert-manager.io/cluster-issuer: "letsencrypt-staging"
  hosts:
    - host: savvy-dev.example.com
      paths:
        - path: /
          pathType: Prefix
  tls:
    - secretName: savvy-dev-tls
      hosts:
        - savvy-dev.example.com

monitoring:
  enabled: true
  serviceMonitor:
    enabled: false  # No ServiceMonitor in dev
